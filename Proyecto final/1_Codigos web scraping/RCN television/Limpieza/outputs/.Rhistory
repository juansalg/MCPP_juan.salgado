facet_wrap(~`Palabra buscada`)
# Grafico num articulos por anio y palabra
graph_art_anio_pal_1 <- ggplot(graph_art_anio_pal_1, aes(x = Anio,
y = `Cantidad de articulos`)) +
geom_col(aes(fill = `Cantidad de articulos`)) +
labs(title = 'Articulos recopilados para El Tiempo \n (por palabra)',
x = 'Año', y = '') + scale_fill_material("blue-grey") +
facet_wrap(~`Palabra buscada`)
# Grafico num articulos por anio y palabra
graph_art_anio_pal_1 <- ggplot(pal_year_count_1, aes(x = Anio,
y = `Cantidad de articulos`)) +
geom_col(aes(fill = `Cantidad de articulos`)) +
labs(title = 'Articulos recopilados para El Tiempo \n (por palabra)',
x = 'Año', y = '') + scale_fill_material("blue-grey") +
facet_wrap(~`Palabra buscada`)
graph_art_anio_pal_1 <- graph_art_anio_pal_1 + theme(
plot.title = element_text(size=15),
axis.title.x = element_text(size=12),
axis.title.y = element_text(size=12)
)
graph_art_anio_pal_1
# Grafico num articulos por anio y palabra
graph_art_anio_pal_1 <- ggplot(pal_year_count_1, aes(x = Anio,
y = `Cantidad de articulos`)) +
geom_col(aes(fill = `Cantidad de articulos`)) +
labs(title = 'Articulos recopilados para El Tiempo \n (por palabra)',
x = 'Año', y = '') + scale_fill_material("blue-grey") +
facet_wrap(~`Palabra buscada`) + + coord_flip()
graph_art_anio_pal_1 <- graph_art_anio_pal_1 + theme(
plot.title = element_text(size=15),
axis.title.x = element_text(size=12),
axis.title.y = element_text(size=12)
)
# Grafico num articulos por anio y palabra
graph_art_anio_pal_1 <- ggplot(pal_year_count_1, aes(x = Anio,
y = `Cantidad de articulos`)) +
geom_col(aes(fill = `Cantidad de articulos`)) +
labs(title = 'Articulos recopilados para El Tiempo \n (por palabra)',
x = 'Año', y = '') + scale_fill_material("blue-grey") +
facet_wrap(~`Palabra buscada`)  + coord_flip()
graph_art_anio_pal_1 <- graph_art_anio_pal_1 + theme(
plot.title = element_text(size=15),
axis.title.x = element_text(size=12),
axis.title.y = element_text(size=12)
)
graph_art_anio_pal_1
# Grafico num articulos por anio y palabra
graph_art_anio_pal_1 <- ggplot(pal_year_count_1, aes(x = Anio,
y = `Cantidad de articulos`)) +
geom_col(aes(fill = `Cantidad de articulos`)) +
labs(title = 'Articulos recopilados para El Tiempo \n (por palabra)',
x = 'Año', y = '') + scale_fill_material("lime") +
facet_wrap(~`Palabra buscada`)  + coord_flip()
graph_art_anio_pal_1 <- graph_art_anio_pal_1 + theme(
plot.title = element_text(size=15),
axis.title.x = element_text(size=12),
axis.title.y = element_text(size=12)
)
graph_art_anio_pal_1
# Grafico num articulos por anio y palabra
graph_art_anio_pal_1 <- ggplot(pal_year_count_1, aes(x = Anio,
y = `Cantidad de articulos`)) +
geom_col(aes(fill = `Cantidad de articulos`)) +
labs(title = 'Articulos recopilados para El Tiempo \n (por palabra)',
x = 'Año', y = '') + scale_fill_material("blue-grey") +
facet_wrap(~`Palabra buscada`)  + coord_flip()
graph_art_anio_pal_1 <- graph_art_anio_pal_1 + theme(
plot.title = element_text(size=15),
axis.title.x = element_text(size=12),
axis.title.y = element_text(size=12)
)
graph_art_anio_pal_1
# Grafico num articulos por anio
graph_art_anio <- ggplot(year_count, aes(x = Anio,
y = `Cantidad de articulos`)) +
geom_col(aes(fill = `Cantidad de articulos`)) +
labs(title = 'Articulos recopilados para El Tiempo',
x = 'Año', y = '') + scale_fill_material("lime")
graph_art_anio <- graph_art_anio + theme(
plot.title = element_text(size=15),
axis.title.x = element_text(size=12),
axis.title.y = element_text(size=12)
)
graph_art_anio
# Grafico num articulos por anio
graph_art_anio <- ggplot(year_count, aes(x = Anio,
y = `Cantidad de articulos`)) +
geom_col(aes(fill = `Cantidad de articulos`)) +
labs(title = 'Articulos recopilados para El Tiempo',
x = 'Año', y = '') + scale_fill_material("blue-grey")
graph_art_anio <- graph_art_anio + theme(
plot.title = element_text(size=15),
axis.title.x = element_text(size=12),
axis.title.y = element_text(size=12)
)
graph_art_anio
# Grafico num articulos por anio
graph_art_anio <- ggplot(year_count, aes(x = Anio,
y = `Cantidad de articulos`)) +
geom_col(aes(fill = `Cantidad de articulos`)) +
labs(title = 'Articulos recopilados para El Tiempo',
x = 'Año', y = '') + scale_fill_material("lime")
graph_art_anio <- graph_art_anio + theme(
plot.title = element_text(size=15),
axis.title.x = element_text(size=12),
axis.title.y = element_text(size=12)
)
graph_art_anio
# Grafico num articulos por anio y palabra
graph_art_anio_pal_1 <- ggplot(pal_year_count_1, aes(x = Anio,
y = `Cantidad de articulos`)) +
geom_col(aes(fill = `Cantidad de articulos`)) +
labs(title = 'Articulos recopilados para El Tiempo \n (por palabra)',
x = 'Año', y = '') + scale_fill_material("blue-grey") +
facet_wrap(~`Palabra buscada`)  + coord_flip()
graph_art_anio_pal_1 <- graph_art_anio_pal_1 + theme(
plot.title = element_text(size=15),
axis.title.x = element_text(size=12),
axis.title.y = element_text(size=12)
)
graph_art_anio_pal_1
View(pal_year_count)
# Grafico num articulos por anio y palabra
graph_art_anio_pal_1 <- ggplot(pal_year_count_1, aes(x = Anio,
y = `Cantidad de articulos`)) +
geom_col(aes(fill = `Cantidad de articulos`)) +
labs(title = 'Articulos recopilados para El Tiempo \n (por palabra)',
x = 'Año', y = '')  +
facet_wrap(~`Palabra buscada`)  + coord_flip()
graph_art_anio_pal_1 <- graph_art_anio_pal_1 + theme(
plot.title = element_text(size=15),
axis.title.x = element_text(size=12),
axis.title.y = element_text(size=12)
)
graph_art_anio_pal_1
# Grafico num articulos por anio y palabra
graph_art_anio_pal_1 <- ggplot(pal_year_count_1, aes(x = Anio,
y = `Cantidad de articulos`)) +
geom_col() +
labs(title = 'Articulos recopilados para El Tiempo \n (por palabra)',
x = 'Año', y = '')  +
facet_wrap(~`Palabra buscada`)  + coord_flip()
graph_art_anio_pal_1 <- graph_art_anio_pal_1 + theme(
plot.title = element_text(size=15),
axis.title.x = element_text(size=12),
axis.title.y = element_text(size=12)
)
graph_art_anio_pal_1
graph_art_anio
graph_art_anio_pal_1
# Grafico num articulos por palabra
art_pal <- c(pal_year_count$`Palabra buscada`, pal_year_count$`Articulos por palabra`)
# Grafico num articulos por palabra
art_pal <- cbind(pal_year_count$`Palabra buscada`, pal_year_count$`Articulos por palabra`)
View(art_pal)
# Grafico num articulos por palabra
art_pal <- cbind('Palabra buscada' = pal_year_count$`Palabra buscada`,
'Articulos por palabra' = pal_year_count$`Articulos por palabra`)
View(art_pal)
art_pal <- unique(art_pal)
View(art_pal)
graph_art_pal <- ggplot(art_pal, aes(x = `Palabra buscada`,
y = `Articulos por palabra`)) +
geom_col() +
labs(title = 'Articulos recopilados para El Tiempo',
x = '', y = '')  +
facet_wrap(~`Palabra buscada`)  + coord_flip()
art_pal <- as.data.frame(unique(art_pal))
graph_art_pal <- ggplot(art_pal, aes(x = `Palabra buscada`,
y = `Articulos por palabra`)) +
geom_col() +
labs(title = 'Articulos recopilados para El Tiempo',
x = '', y = '')  +
facet_wrap(~`Palabra buscada`)  + coord_flip()
graph_art_pal
graph_art_pal <- ggplot(art_pal, aes(x = `Palabra buscada`,
y = `Articulos por palabra`)) +
geom_col() +
labs(title = 'Articulos recopilados para El Tiempo',
x = '', y = '')  +
facet_wrap(~`Palabra buscada`)  #+ coord_flip()
graph_art_pal <- ggplot(art_pal, aes(x = `Palabra buscada`,
y = `Articulos por palabra`)) +
geom_col() +
labs(title = 'Articulos recopilados para El Tiempo',
x = '', y = '') + coord_flip()
graph_art_pal
graph_art_pal <- ggplot(art_pal, aes(x = reorder(`Palabra buscada`, -`Articulos por palabra`) ,
y = `Articulos por palabra`)) +
geom_col() +
labs(title = 'Articulos recopilados para El Tiempo',
x = '', y = '') + coord_flip()
graph_art_pal
class(art_pal$`Articulos por palabra`)
art_pal$`Articulos por palabra` <- as.numeric(art_pal$`Articulos por palabra`)
graph_art_pal <- ggplot(art_pal, aes(x = reorder(`Palabra buscada`, -`Articulos por palabra`) ,
y = `Articulos por palabra`)) +
geom_col() +
labs(title = 'Articulos recopilados para El Tiempo',
x = '', y = '') + coord_flip()
graph_art_pal
View(pal_year_count)
# Grafico num articulos por palabra
art_pal <- cbind('Palabra buscada' = pal_year_count$`Palabra buscada`,
'Articulos por palabra' = pal_year_count$`Articulos por palabra`)
art_pal <- as.data.frame(unique(art_pal))
art_pal$`Articulos por palabra` <-
as.numeric(as.character(art_pal$`Articulos por palabra`))
graph_art_pal <- ggplot(art_pal, aes(x = reorder(`Palabra buscada`, -`Articulos por palabra`) ,
y = `Articulos por palabra`)) +
geom_col() +
labs(title = 'Articulos recopilados para El Tiempo',
x = '', y = '') + coord_flip()
graph_art_pal
graph_art_pal <- graph_art_pal + theme(
plot.title = element_text(size=15),
axis.title.x = element_text(size=12),
axis.title.y = element_text(size=12)
)
graph_art_pal
graph_art_anio
graph_art_anio_pal_1
# Grafico num articulos por anio
graph_art_anio <- ggplot(year_count, aes(x = Anio,
y = `Cantidad de articulos`)) +
geom_col() +
labs(title = 'Articulos recopilados para El Tiempo',
x = 'Año', y = '') #+ scale_fill_material("lime")
graph_art_anio <- graph_art_anio + theme(
plot.title = element_text(size=15),
axis.title.x = element_text(size=12),
axis.title.y = element_text(size=12)
)
graph_art_anio
graph_art_anio_pal_1
# Grafico num articulos por anio y palabra
graph_art_anio_pal_1 <- ggplot(pal_year_count_1, aes(x = Anio,
y = `Cantidad de articulos`)) +
geom_col() +
labs(title = 'Articulos recopilados para El Tiempo',
x = 'Año', y = '')  +
facet_wrap(~`Palabra buscada`, scales = "free")  + coord_flip()
graph_art_anio_pal_1 <- graph_art_anio_pal_1 + theme(
plot.title = element_text(size=15),
axis.title.x = element_text(size=12),
axis.title.y = element_text(size=12)
)
graph_art_anio_pal_1
# Grafico num articulos por anio y palabra
graph_art_anio_pal_1 <- ggplot(pal_year_count_1, aes(x = Anio,
y = `Cantidad de articulos`)) +
geom_col() +
labs(title = 'Articulos recopilados para El Tiempo',
x = 'Año', y = '')  +
facet_wrap(~`Palabra buscada`, scales.x = "free")  + coord_flip()
# Grafico num articulos por anio y palabra
graph_art_anio_pal_1 <- ggplot(pal_year_count_1, aes(x = Anio,
y = `Cantidad de articulos`)) +
geom_col() +
labs(title = 'Articulos recopilados para El Tiempo',
x = 'Año', y = '')  +
facet_wrap(~`Palabra buscada`, scales = "free_x")  + coord_flip()
graph_art_anio_pal_1 <- graph_art_anio_pal_1 + theme(
plot.title = element_text(size=15),
axis.title.x = element_text(size=12),
axis.title.y = element_text(size=12)
)
graph_art_anio_pal_1
# Sacar los que tienen pocos articulos por palabra
pal_year_count_reduc <- pal_year_count %>%
filter(`Articulos por palabra` < 5)
View(pal_year_count_reduc)
# Sacar los que tienen pocos articulos por palabra
pal_year_count_reduc <- pal_year_count %>%
filter(`Articulos por palabra` < 4)
pal_year_count_mas_4 <- pal_year_count %>%
filter(`Articulos por palabra` >= 4)
View(pal_year_count_mas_4)
View(pal_year_count_mas_4)
for (val in 1:div){
assign(paste0('pal_year_count_', val, sep = ''), pal_year_count_mas_4 %>%
filter(id <= fin & id > inic))
inic <- fin
fin <- 2*fin
}
inic <- 0
fin <- incremento
for (val in 1:div){
assign(paste0('pal_year_count_', val, sep = ''), pal_year_count_mas_4 %>%
filter(id <= fin & id > inic))
inic <- fin
fin <- 2*fin
}
View(pal_year_count_3)
graph_art_anio_pal_reduc <- ggplot(pal_year_count_reduc, aes(x = Anio,
y = `Cantidad de articulos`)) +
geom_col() +
labs(title = 'Articulos recopilados para El Tiempo',
x = 'Año', y = '')  +
facet_wrap(~`Palabra buscada`)  + coord_flip()
graph_art_anio_pal_reduc
graph_art_anio_pal_reduc <- graph_art_anio_pal_reduc + theme(
plot.title = element_text(size=15),
axis.title.x = element_text(size=12),
axis.title.y = element_text(size=12)
)
graph_art_anio_pal_reduc
# Grafico num articulos por anio y palabra
for (val in 1:div){
assign(paste0('graph_art_anio_pal_', val, sep = ''),
ggplot(pal_year_count_1, aes(x = Anio,
y = `Cantidad de articulos`)) +
geom_col() +
labs(title = 'Articulos recopilados para El Tiempo',
x = 'Año', y = '')  +
facet_wrap(~`Palabra buscada`, scales = "free_x")+ coord_flip())
assign(paste0('graph_art_anio_pal_', val, sep = ''),
graph_art_anio_pal_1 + theme(
plot.title = element_text(size=15),
axis.title.x = element_text(size=12),
axis.title.y = element_text(size=12)))
}
View(graph_art_anio_pal_2)
View(graph_art_anio_pal_2)
graph_art_anio_pal_2
pdf('graphs_el_tiempo.pdf')
print(graph_art_anio)
print(art_pal)
print(graph_art_anio_pal_1)
print(graph_art_anio_pal_2)
print(graph_art_anio_pal_3)
print(graph_art_anio_pal_reduc)
dev.off()
pdf('graphs_el_tiempo.pdf')
print(graph_art_anio)
print(graph_art_pal)
print(graph_art_anio_pal_1)
print(graph_art_anio_pal_2)
print(graph_art_anio_pal_3)
print(graph_art_anio_pal_reduc)
dev.off()
path = "C:/Users/juan.salgado/Desktop/Proyecto CCB/GIT_Cerac/
Web scraping/El tiempo/Limpieza/outputs"
pdf(paste(path, 'graphs_el_tiempo.pdf'))
path = "C:/Users/juan.salgado/Desktop/Proyecto CCB/GIT_Cerac/
Web scraping/El tiempo/Limpieza/outputs/"
pdf(paste(path, 'graphs_el_tiempo.pdf'))
pdf(paste(path, 'graphs_el_tiempo.pdf', sep ) '')
pdf(paste(path, 'graphs_el_tiempo.pdf', sep = '')
pdf(paste(path, 'graphs_el_tiempo.pdf', sep = ''))
getwd
getwd()
# Grafico num articulos por anio y palabra
for (val in 1:div){
assign(paste0('graph_art_anio_pal_', val, sep = ''),
ggplot(paste0(pal_year_count_,val), aes(x = Anio,
y = `Cantidad de articulos`)) +
geom_col() +
labs(title = 'Articulos recopilados para El Tiempo',
x = 'Año', y = '')  +
facet_wrap(~`Palabra buscada`, scales = "free_x")+ coord_flip())
assign(paste0('graph_art_anio_pal_', val, sep = ''),
paste0(pal_year_count_,val) + theme(
plot.title = element_text(size=15),
axis.title.x = element_text(size=12),
axis.title.y = element_text(size=12)))
}
# Grafico num articulos por anio y palabra
for (val in 1:div){
assign(paste0('graph_art_anio_pal_', val, sep = ''),
ggplot(paste0('pal_year_count_',val), aes(x = Anio,
y = `Cantidad de articulos`)) +
geom_col() +
labs(title = 'Articulos recopilados para El Tiempo',
x = 'Año', y = '')  +
facet_wrap(~`Palabra buscada`, scales = "free_x")+ coord_flip())
assign(paste0('graph_art_anio_pal_', val, sep = ''),
paste0('pal_year_count_',val) + theme(
plot.title = element_text(size=15),
axis.title.x = element_text(size=12),
axis.title.y = element_text(size=12)))
}
data_list <- list()
data_list <- list(pal_year_count_1, pal_year_count_2, pal_year_count_3)
View(data_list)
data_list[1]
# Grafico num articulos por anio y palabra
for (val in 1:div){
assign(paste0('graph_art_anio_pal_', val, sep = ''),
ggplot(data_list[val], aes(x = Anio,
y = `Cantidad de articulos`)) +
geom_col() +
labs(title = 'Articulos recopilados para El Tiempo',
x = 'Año', y = '')  +
facet_wrap(~`Palabra buscada`, scales = "free_x")+ coord_flip())
assign(paste0('graph_art_anio_pal_', val, sep = ''),
data_list[val] + theme(
plot.title = element_text(size=15),
axis.title.x = element_text(size=12),
axis.title.y = element_text(size=12)))
}
class(data_list[1])
class(as.data.frame(data_list[1]))
# Grafico num articulos por anio y palabra
for (val in 1:div){
assign(paste0('graph_art_anio_pal_', val, sep = ''),
ggplot(as.data.frame(data_list[val]), aes(x = Anio,
y = `Cantidad de articulos`)) +
geom_col() +
labs(title = 'Articulos recopilados para El Tiempo',
x = 'Año', y = '')  +
facet_wrap(~`Palabra buscada`, scales = "free_x")+ coord_flip())
assign(paste0('graph_art_anio_pal_', val, sep = ''),
as.data.frame(data_list[val]) + theme(
plot.title = element_text(size=15),
axis.title.x = element_text(size=12),
axis.title.y = element_text(size=12)))
}
# Grafico num articulos por anio y palabra
graph_art_anio_pal_1 <-
ggplot(as.data.frame(data_list[val]), aes(x = Anio,
y = `Cantidad de articulos`)) +
geom_col() +
labs(title = 'Articulos recopilados para El Tiempo',
x = 'Año', y = '')  +
facet_wrap(~`Palabra buscada`, scales = "free_x")+ coord_flip()
graph_art_anio_pal_1 <-
as.data.frame(data_list[val]) + theme(
plot.title = element_text(size=15),
axis.title.x = element_text(size=12),
axis.title.y = element_text(size=12))
graph_art_anio_pal_1
# Grafico num articulos por anio y palabra
graph_art_anio_pal_1 <-
ggplot(pal_year_count_1, aes(x = Anio,
y = `Cantidad de articulos`)) +
geom_col() +
labs(title = 'Articulos recopilados para El Tiempo',
x = 'Año', y = '')  +
facet_wrap(~`Palabra buscada`, scales = "free_x")+ coord_flip()
graph_art_anio_pal_1 <-
graph_art_anio_pal_1 + theme(
plot.title = element_text(size=15),
axis.title.x = element_text(size=12),
axis.title.y = element_text(size=12))
graph_art_anio_pal_1
## Grupo 1
graph_art_anio_pal_1 <-
ggplot(pal_year_count_1, aes(x = Anio,
y = `Cantidad de articulos`)) +
geom_col() +
labs(title = 'Articulos recopilados para El Tiempo',
x = 'Año', y = '')  +
facet_wrap(~`Palabra buscada`, scales = "free_x")+ coord_flip()
graph_art_anio_pal_1 <-
graph_art_anio_pal_1 + theme(
plot.title = element_text(size=15),
axis.title.x = element_text(size=12),
axis.title.y = element_text(size=12))
## Grupo 2
graph_art_anio_pal_2 <-
ggplot(pal_year_count_2, aes(x = Anio,
y = `Cantidad de articulos`)) +
geom_col() +
labs(title = 'Articulos recopilados para El Tiempo',
x = 'Año', y = '')  +
facet_wrap(~`Palabra buscada`, scales = "free_x")+ coord_flip()
graph_art_anio_pal_2 <-
graph_art_anio_pal_2 + theme(
plot.title = element_text(size=15),
axis.title.x = element_text(size=12),
axis.title.y = element_text(size=12))
## Grupo 3
graph_art_anio_pal_3 <-
ggplot(pal_year_count_3, aes(x = Anio,
y = `Cantidad de articulos`)) +
geom_col() +
labs(title = 'Articulos recopilados para El Tiempo',
x = 'Año', y = '')  +
facet_wrap(~`Palabra buscada`, scales = "free_x")+ coord_flip()
graph_art_anio_pal_3 <-
graph_art_anio_pal_3 + theme(
plot.title = element_text(size=15),
axis.title.x = element_text(size=12),
axis.title.y = element_text(size=12))
graph_art_anio_pal_3
path = "C:/Users/juan.salgado/Desktop/Proyecto CCB/GIT_Cerac/
Web scraping/El tiempo/Limpieza/outputs/"
setwd(path)
getwd()
path
path = "C:/Users/juan.salgado/Desktop/Proyecto CCB/GIT_Cerac/Web scraping/El tiempo/Limpieza/outputs/"
path
path = "C:/Users/juan.salgado/Desktop/Proyecto CCB/GIT_Cerac/
Web scraping/El tiempo/Limpieza/outputs/"
path
path = "C:/Users/juan.salgado/Desktop/Proyecto CCB/GIT_Cerac/Web scraping/El tiempo/Limpieza/outputs/"
setwd(path)
pdf(paste(path, 'graphs_el_tiempo.pdf', sep = ''))
print(graph_art_anio)
print(graph_art_pal)
print(graph_art_anio_pal_1)
print(graph_art_anio_pal_2)
print(graph_art_anio_pal_3)
print(graph_art_anio_pal_reduc)
dev.off()
source('C:/Users/juan.salgado/Desktop/Proyecto CCB/GIT_Cerac/Web scraping/El tiempo/Limpieza/Consolidacion_bases.R', encoding = 'UTF-8', echo=TRUE)
View(pal_year_count)
incremento
incremento <- round(grupos/div)
incremento
source('C:/Users/juan.salgado/Desktop/Proyecto CCB/GIT_Cerac/Web scraping/El tiempo/Limpieza/Consolidacion_bases.R', encoding = 'UTF-8', echo=TRUE)
